(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{171:function(e,t,s){"use strict";s.r(t);var n=s(0),a=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"deploying"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploying","aria-hidden":"true"}},[e._v("#")]),e._v(" Deploying")]),e._v(" "),s("p",[e._v("When your application is ready to get deployed, here are some tips to improve your WebSocket Server.")]),e._v(" "),s("h3",{attrs:{id:"open-connection-limit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-connection-limit","aria-hidden":"true"}},[e._v("#")]),e._v(" Open Connection Limit")]),e._v(" "),s("p",[e._v('On Unix systems every user that connects to your WebSocket server is represented as a file somewhere on the system.\nAs a security measurement of every Unix based OS, the number of "file descriptors" an application may have open at a time is limited - most of the time to a default value of 1024 - which would result in a maximum number of 1024 concurrent users on your WebSocket server.')]),e._v(" "),s("p",[e._v('In addition to the OS restrictions, this package makes use of an event loop called "stream_select", which has a hard limit of 1024.')]),e._v(" "),s("h4",{attrs:{id:"increasing-the-maximum-number-of-file-descriptors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#increasing-the-maximum-number-of-file-descriptors","aria-hidden":"true"}},[e._v("#")]),e._v(" Increasing the maximum number of file descriptors")]),e._v(" "),s("p",[e._v('The operation system limit of open "file descriptors" can be increased using the '),s("code",[e._v("ulimit")]),e._v(" command. The "),s("code",[e._v("-n")]),e._v(" option modifies the amount of open file descriptors.")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("The "),s("code",[e._v("ulimit")]),e._v(" command only "),s("strong",[e._v("temporarily")]),e._v(" increases the maximum number of open file descriptors. To permanently modify this value, you can edit it in your operation system "),s("code",[e._v("limits.conf")]),e._v(" file.")])]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[e._v("ulimit")]),e._v(" -n 10000\n")])])]),s("h4",{attrs:{id:"changing-the-event-loop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changing-the-event-loop","aria-hidden":"true"}},[e._v("#")]),e._v(" Changing the event loop")]),e._v(" "),s("p",[e._v("To make use of a different event loop, that does not have a hard limit of 1024 concurrent connections, you can either install the "),s("code",[e._v("ev")]),e._v(" or "),s("code",[e._v("event")]),e._v(" PECL extension using:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[e._v("sudo")]),e._v(" pecl "),s("span",{attrs:{class:"token function"}},[e._v("install")]),e._v(" ev\n"),s("span",{attrs:{class:"token comment"}},[e._v("# or")]),e._v("\n"),s("span",{attrs:{class:"token function"}},[e._v("sudo")]),e._v(" pecl "),s("span",{attrs:{class:"token function"}},[e._v("install")]),e._v(" event\n")])])])])}],!1,null,null,null);a.options.__file="deploying.md";t.default=a.exports}}]);